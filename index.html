<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Max Tremaine.com</title>
		<link href="icon.jpg" rel="icon" type="image/jpeg" />
		<link href="https://fonts.googleapis.com/css?family=Lato|Josefin+Slab:100" rel="stylesheet" />
		<style type="text/css">
			* {
				margin: 0;
				font-family: 'Lato', sans-serif;
				font-size: 3vh;
			}
			h1, h2 {
				padding: 18vh 1vh;
			}
			h3, p {
				padding: 1vh 2vh;
			}
			h3 {
				font-size: 4vh;
				font-style: italic;
			}
			nav, button {
				font-size: 2vh;
			}
			table {
				border-collapse: collapse;
			}
			a:link {
				color: #BE8D5E;
			}
			a:visited {
				color: #4B6A72;
			}
			a:hover, a:active {
				color: #726152;
			}
			.data_loaded, .fewer {
				display: none;
			}
			.list_button {
				margin: 2vh;
			}
			.descriptor {
				width: 30vw;
			}
			.detail {
				font-size: 2.5vh;
				background-color: WhiteSmoke;
			}
		</style>
	</head>
	<body onload="main()">
		<div style="position:fixed;bottom:0;box-shadow:0 0 0.3vh 0 black;">
			<nav style="padding:1vh;width:100vw;bottom:0;background-color:lightgrey;text-align:center;">
				Jump to:
				<button onclick="document.getElementById('intro').scrollIntoView()">Intro</button>
				<button onclick="document.getElementById('contact').scrollIntoView()">Contact</button>
				<button onclick="document.getElementById('articles').scrollIntoView()">Articles</button>
				<button onclick="document.getElementById('resume').scrollIntoView()">Resume</button>
				<button onclick="document.getElementById('favourite_books').scrollIntoView()">Favourite Books</button>
				<button onclick="document.getElementById('favourite_quotes').scrollIntoView()">Favourite Quotes</button>
			</nav>
		</div>
		<section>
			<article id="titles">
				<h1 style="font-size:7vh;">Max Tremaine<span style="font-size:3vh;color:#6BADBE;">.com</span></h1>
				<h2 style="font-size:4vh;font-family:'Josefin Slab',serif;">Co-Founder of Sherpa.</h2>
				<hr />
			</article>
			<article id="intro">
				<p>Hello,</p>
				<p>Welcome to Max Tremaine.com, the internet's best summary resource for information about me, Max Tremaine. I'm the businessy co-founder of <a href="http://www.joinsherpa.com" target="_blank">Sherpa</a>: the easiest way to get a travel visa. I'm also interested in statistical learning, citizenship, database management systems, and disruption theory.</p>
				<p>If you're a computer, you can also read my website <a href="max_tremaine_dot_com.json" target ="_blank">in JSON</a>.</p>
				<p>-Max</p>
				<hr />
			</article>
			<article id="contact">
				<h3>How to get in touch:</h3>
				<ul style="margin: 2vh 1vh;">
					<li>I have public <a href="http://www.twitter.com/maxtremaine" target="_blank">Twitter</a> direct messages turned on, and I'll get push notifications.</li>
					<li>If you want to connect in a businessy way, I also get push notifications from <a href="https://ca.linkedin.com/in/maxtremaine" target="_blank">LinkedIn</a>.</li>
					<li>If you're super serious about business, I also have an <a href="https://angel.co/maxtremaine" target="_blank">Angel List</a> account, which I check periodically.</li>
					<li>You can email me at <a href="mailto:me@maxtremaine.com">me@maxtremaine.com</a>, but I may not see it.</li>
				</ul>
				<hr />
			</article>
			<article id="articles" class="data_loaded">
				<h3>Articles:</h3>
				<table id="article_table"></table>
				<button id="more_articles" class="list_button" onclick="listButton('extra_articles','more_articles','fewer_articles','table-row')">More</button>
				<button id="fewer_articles" class="fewer list_button" onclick="listButton('extra_articles','fewer_articles','more_articles')">Fewer</button>
				<hr />
			</article>
			<article id="resume" class="data_loaded">
				<h3>Resume:</h3>
				<table id="resume_table"></table>
				<button id="more_jobs" class="list_button" onclick="listButton('extra_jobs','more_jobs','fewer_jobs','table-row')">More</button>
				<button id="fewer_jobs" class="fewer list_button" onclick="listButton('extra_jobs','fewer_jobs','more_jobs')">Fewer</button>
				<hr />
			</article>
			<article id="favourite_books" class="data_loaded">
				<h3>Favourite Books:</h3>
				<ol id="favourite_books_list" style="margin: 2vh 3vh;"></ol>
				<button id="more_books" class="list_button" onclick="listButton('extra_books','more_books','fewer_books','list-item')">More</button>
				<button id="fewer_books" class="fewer list_button" onclick="listButton('extra_books','fewer_books','more_books')">Fewer</button>
				<hr />
			</article>
			<article id="favourite_quotes" class="data_loaded">
				<h3>Favourite Quotes:</h3>
				<ul id="favourite_quotes_list"></ul>
				<button id="more_quotes" class="list_button" onclick="listButton('extra_quotes','more_quotes','fewer_quotes','list-item')">More</button>
				<button id="fewer_quotes" class="fewer list_button" onclick="listButton('extra_quotes','fewer_quotes','more_quotes')">Fewer</button>
				<hr />
			</article>
		</section>
		<footer style="margin-bottom:10vh;">
			<h4 style="font-size:2vh;text-align:right;">Thanks for stopping by.</h4>
		</footer>
		<script>
			function showSections() {
				// Show all of the labels and buttons to accompany data.
				var labelsAndButtons = document.getElementsByClassName('data_loaded');
				for(var i = 0; i < labelsAndButtons.length; i++) {
					labelsAndButtons[i].style.display = 'inline';
				}
			}
			function getData() {
				var dataURL = 'max_tremaine_dot_com.json'
				var rawPageData = new XMLHttpRequest();
				rawPageData.open('GET', dataURL, true);
				rawPageData.onreadystatechange = function() {
					if(rawPageData.readyState == 4 && rawPageData.status == 200) {
						dataRouter(rawPageData.responseText);
					}
				}
				rawPageData.send();
			}
			function dataRouter(databaseOutput) {
				var data = JSON.parse(databaseOutput).max_tremaine_dot_com;
				var articleData = data.articles;
				var resumeData = data.resume;
				var bookData = data.favourite_books;
				var quoteData = data.favourite_quotes;
				loadArticles(articleData);
				loadResume(resumeData);
				loadBooks(bookData);
				loadQuotes(quoteData);
				hideExtras();
			}
			function loadArticles(data) {
				var articlesSection = document.getElementById('article_table');
				for(var i = 0, j = 1; i < data.length; i++, j++) {
					/**
					 * This loop creates article items in the following format:
					 * <tr class=[class] style="vertical-align: top;">
					 *     <td style="padding: 2vh;">
					 *          <a href=[link] target="_blank">[title]</a>
					 *     </td>
					 *     <td style="padding: 2vh;">[description]</td>
					 * </tr>
					 */
					var articleRow = document.createElement('tr');
					var leftData = document.createElement('td');
					var articleLink = document.createElement('a');
					var articleTitle = document.createTextNode(data[i].title);
					var rightData = document.createElement('td');
					var articleDescription = document.createTextNode(data[i].description);
					var article_padding = 'padding: 2vh;';
					articlesSection.appendChild(articleRow);
					articleRow.className = (i > 1) ? 'extra_articles' : '';
					articleRow.style = (j % 2 == 0) ? 'vertical-align: top; background-color: WhiteSmoke;' : 'vertical-align: top;';
					articleRow.appendChild(leftData);
					leftData.className = 'descriptor';
					leftData.style = article_padding;
					leftData.appendChild(articleLink);
					articleLink.href = data[i].link;
					articleLink.target = '_blank';
					articleLink.appendChild(articleTitle);
					articleRow.appendChild(rightData);
					rightData.style = article_padding;
					rightData.appendChild(articleDescription);
				}
			}
			function loadResume(data) {
				var resumeSection = document.getElementById('resume_table');
				for(var i = 0; i < data.length; i++) {
					/**
					 * This loop creates resume items in the following format:
					 * <tr class=[class] style="vertical-align: top;">
					 *     <td class="descriptor" style="padding: 2vh;">
					 *         <a href=[link] target="_blank">[company]</a>
					 *     </td>
					 *     <td style="padding: 2vh;">[title]</td>
					 * </tr>
					 * <tr class=[class] style="vertical-align: top;">
					 *     <td class="descriptor detail" style="padding: 2vh;">[period]</td>
					 *     <td style="padding: 2vh;" class="detail">[detail]</td>
					 * </tr>
					 */

					var topRow = document.createElement('tr');
					var topLeft = document.createElement('td');
					var jobLink = document.createElement('a');
					var company = document.createTextNode(data[i].company);
					var topRight = document.createElement('td');
					var title = document.createTextNode(data[i].title);
					var bottomRow = document.createElement('tr');
					var bottomLeft = document.createElement('td');
					var period = document.createTextNode(data[i].period);
					var bottomRight = document.createElement('td');
					var description = document.createTextNode(data[i].description);
					var item_padding = 'padding: 2vh;';
					resumeSection.appendChild(topRow);
					topRow.className = (i > 0) ? 'extra_jobs' : '';
					topRow.style = 'vertical-align: top;';
					topRow.appendChild(topLeft);
					topLeft.className = 'descriptor';
					topLeft.style = item_padding;
					topLeft.appendChild(jobLink);
					jobLink.href = data[i].link;
					jobLink.target = '_blank';
					jobLink.appendChild(company);
					topRow.appendChild(topRight);
					topRight.style = item_padding;
					topRight.appendChild(title);
					resumeSection.appendChild(bottomRow);
					bottomRow.className = (i > 0) ? 'extra_jobs' : '';
					bottomRow.style = 'vertical-align : top;';
					bottomRow.appendChild(bottomLeft);
					bottomLeft.className = 'descriptor detail';
					bottomLeft.style = item_padding;
					bottomLeft.appendChild(period);
					bottomRow.appendChild(bottomRight);
					bottomRight.className = 'detail';
					bottomRight.style = item_padding;
					bottomRight.appendChild(description);
				}
			}
			function loadBooks(data) {
				var booksList = document.getElementById('favourite_books_list');
				for(var i = 0; i < data.length; i++) {
					/**
					 * This loop creates book items in the following format:
					 * <li class=[class] style="list-style-position:inside;">
					 *     <a href=[link] target="_blank">[title]</a>
					 *     [author]
					 * </li>
					 */

					var bookItem = document.createElement('li');
					var bookLink = document.createElement('a');
					var title = document.createTextNode(data[i].title);
					var author = document.createTextNode(' by ' + data[i].author);
					booksList.appendChild(bookItem);
					bookItem.className = (i > 2) ? 'extra_books' : '';
					bookItem.appendChild(bookLink);
					bookLink.href = data[i].link;
					bookLink.target = '_blank';
					bookLink.appendChild(title);
					bookItem.appendChild(author);

				}
			}
			function loadQuotes(data) {
				var quotesList = document.getElementById('favourite_quotes_list');
				for(var i = 0, j = 0; i < data.length; i++) {
					/**
					 * This loop creates quote items in the following format:
					 * <li class=[class] style="list-style-type:none; margin: 2vh 1vh;">
					 *     <q>[quote]</q>
					 *     <p style="text-align:right;">[author]</p>
					 * </li>
					 */
					if(data[i].public) {
						var quoteItem = document.createElement('li');
						var quoteElement = document.createElement('q');
						var quote = document.createTextNode(data[i].quote);
						var authorElement = document.createElement('p');
						var author = document.createTextNode('- ' + data[i].author);
						quotesList.appendChild(quoteItem);
						quoteItem.className = (j > 1) ? 'extra_quotes' : '';
						quoteItem.style = 'list-style-type:none; margin: 2vh 1vh;';
						quoteItem.appendChild(quoteElement);
						quoteElement.appendChild(quote);
						quoteItem.appendChild(authorElement);
						authorElement.style = 'text-align:right;';
						authorElement.appendChild(author);
						j++
					}
				}
			}
			function hideExtras() {
				var classes = ['.extra_books', '.extra_quotes', '.extra_articles', '.extra_jobs'];
				var extras = document.querySelectorAll(classes.join());
				for(var i = 0; i < extras.length; i++) {
					extras[i].style.display = 'none';
				}
			}
			function listButton(extraClass, buttonToHide, buttonToShow, extraClassDisplayValue) {
				if(extraClassDisplayValue === undefined) {
					extraClassDisplayValue = 'none';
				}
				document.getElementById(buttonToHide).style.display = 'none';
				document.getElementById(buttonToShow).style.display = 'block';
				var extraClassElements = document.getElementsByClassName(extraClass);
				for(var i = 0; i < extraClassElements.length; i++) {
					extraClassElements[i].style.display = extraClassDisplayValue;
				}
			}
			function main() {
				showSections();
				getData();
			}
			(function(i, s, o, g, r, a, m){
				// Google Tracking Code
				i['GoogleAnalyticsObject'] = r;
				i[r] = i[r] || function(){
					(i[r].q = i[r].q || []).push(arguments)
				},
				i[r].l = 1 * new Date();
				a = s.createElement(o),
				m = s.getElementsByTagName(o)[0];
				a.async = 1;
				a.src = g;
				m.parentNode.insertBefore(a, m)
			})
			(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

			ga('create', 'UA-45002570-1', 'auto');
			ga('send', 'pageview');
			!function() {
				// Drift Chat Bot
				var t;
				if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0, 
				t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
				t.factory = function(e) {
					return function() {
						var n;
						return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
					};
				}, t.methods.forEach(function(e) {
					t[e] = t.factory(e);
				}), t.load = function(t) {
					var e, n, o, i;
					e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"), 
					o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js", 
					n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
				});
			}();
			drift.SNIPPET_VERSION = '0.3.1';
			drift.load('m2zfynnd2r9a');
		</script>
	</body>
</html>